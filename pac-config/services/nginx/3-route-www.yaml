apiVersion: route.openshift.io/v1
kind: Route
metadata:
  name: nginx-www
  namespace: bitiq-local
  annotations:
    # Use DNS-01 ClusterIssuer (Route53 in local) when HTTP-01 is not reachable externally
    # Switch back to HTTP-01 (letsencrypt-http01-local) if TCP/80 is publicly accessible
    cert-manager.io/cluster-issuer: letsencrypt-dns01-route53-local
    haproxy.router.openshift.io/redirect-to-https: "true"
spec:
  to:
    kind: Service
    name: nginx-service
  tls:
    termination: edge
  host: www.cyphai.com
